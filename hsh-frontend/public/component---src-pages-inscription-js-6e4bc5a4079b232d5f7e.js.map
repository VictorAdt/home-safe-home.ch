{"version":3,"sources":["webpack:///./node_modules/nothing-mock/dist/nothing-mock.es.js","webpack:///./src/components/atelier/atelier-card.js","webpack:///./src/components/form/subscription-form.js","webpack:///./src/pages/inscription.js","webpack:///./node_modules/browser-monads/lib/index.js"],"names":["n","r","toString","toLocaleString","Symbol","toPrimitive","valueOf","Proxy","Object","freeze","get","t","hasOwnProperty","u","e","o","JSON","stringify","i","parse","AtelierCard","props","date","Date","atelier","console","log","className","split","map","type","titre","description","window","location","pathname","to","id","state","SubscriptionForm","useState","filed","setFiled","message","setMessage","nom","prenom","entreprise","adresse","npa","localite","email","nb","telephone","inscription","setInscription","handleChange","a","target","name","value","useEffect","handleSubmit","preventDefault","scrollTo","top","behavior","data","participant","strapiId","axios","method","url","status","setTimeout","response","label","style","cursor","backgroundColor","pointerEvents","onClick","Subscription","_require","Nothing","isNothing","win","doc","document","module","exports","exists","variable"],"mappings":"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","file":"component---src-pages-inscription-js-6e4bc5a4079b232d5f7e.js","sourcesContent":["var n,\n    r = ((n = function n() {\n  return r;\n}).toString = n.toLocaleString = n[Symbol.toPrimitive] = function () {\n  return \"\";\n}, n.valueOf = function () {\n  return !1;\n}, new Proxy(Object.freeze(n), {\n  get: function get(n, t) {\n    return n.hasOwnProperty(t) ? n[t] : r;\n  }\n})),\n    t = function t(n) {\n  return !(!n || !n.valueOf());\n},\n    u = function u(n) {\n  return n === r;\n},\n    e = function e(n) {\n  return !(n === r || null == n);\n},\n    o = function o(n) {\n  return JSON.stringify(n, function (n, t) {\n    return t === r ? null : t;\n  });\n},\n    i = function i(n) {\n  return JSON.parse(n, function (n, t) {\n    return null === t ? r : t;\n  });\n};\n\nexport { r as Nothing, t as toBool, u as isNothing, e as isSomething, o as serialize, i as deserialize };","import React, { useState } from 'react';\r\nimport { Link } from 'gatsby'\r\nimport { window } from 'browser-monads';\r\n\r\nconst AtelierCard = props => {\r\n    const date = new Date(props.atelier.Date)\r\n    console.log(date);\r\n    if (props) {\r\n        return (\r\n            <div className=\"atelier__card atelier\">\r\n                <div className=\"atelier__card__content\">\r\n                    <div>\r\n                        {props.atelier.Date.split(' ').map((e, i) => (\r\n                            <p className={`atelier__date date date${i}`} >{e}</p>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"atelier__card__mainContent\">\r\n                        <p className=\"atelier__type type\"> {props.atelier.type}</p>\r\n                        <p className=\"atelier__title title\"> {props.atelier.titre}</p>\r\n                        <p className=\"atelier__description\" >{props.atelier.description}</p>\r\n                    </div>\r\n                </div>\r\n                {window.location.pathname !== '/inscription' &&\r\n                    <div className=\"atelier__card__buttons\">\r\n                        <Link to={`/atelier/${props.atelier.id}`}> Détails\r\n                        </Link>\r\n                        <Link to={`/inscription`} state={{ atelier: props.atelier }}> S'inscrire\r\n                    </Link>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    } else return null\r\n\r\n}\r\n\r\nexport default AtelierCard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Input from './input';\r\nimport axios from 'axios'\r\nimport ResponseMessage from './response-message';\r\n\r\nconst SubscriptionForm = props => {\r\n    console.log(props);\r\n    const [filed, setFiled] = useState(false)\r\n    const [message, setMessage] = useState('')\r\n    const [inscription, setInscription] = useState({\r\n        nom: '',\r\n        prenom: '',\r\n        entreprise: '',\r\n        adresse: '',\r\n        npa: '',\r\n        localite: '',\r\n        email: '',\r\n        nb: '',\r\n        telephone: '',\r\n    });\r\n\r\n    const handleChange = async (e) => {\r\n        setInscription({ ...inscription, [e.target.name]: e.target.value })\r\n        console.log(inscription)\r\n        if (\r\n            inscription.nom !== ''\r\n            && inscription.prenom !== ''\r\n            && inscription.adresse !== ''\r\n            && inscription.npa !== ''\r\n            && inscription.localite !== ''\r\n            && inscription.email !== ''\r\n            && inscription.nb !== ''\r\n            && inscription.telephone !== ''\r\n        ) {\r\n            await setFiled(true)\r\n        } else {\r\n            setFiled(false)\r\n        }\r\n        console.log(filed);\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(inscription);\r\n    }, [inscription]);\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault()\r\n        window.scrollTo({ top: 0, behavior: 'smooth' })\r\n        const data = {\r\n            nom: inscription.nom,\r\n            prenom: inscription.prenom,\r\n            entreprise: inscription.entreprise,\r\n            adresse: inscription.adresse,\r\n            email: inscription.email,\r\n            telephone: inscription.telephone,\r\n            npa: inscription.npa,\r\n            localite: inscription.localite,\r\n            participant: inscription.nb,\r\n            atelier: {\r\n                id: props.atelier.strapiId,\r\n                titre: props.atelier.titre\r\n            }\r\n        }\r\n        setMessage('Envoi du message')\r\n\r\n        try {\r\n            const SubRes = await axios({\r\n                method: 'POST',\r\n                url: 'http://backend.homesafehome.ch/inscriptions',\r\n                data,\r\n            })\r\n            if (SubRes.status === 200) {\r\n                setMessage('Message envoyé')\r\n                setTimeout(() => {\r\n                    window.location.pathname = '/'\r\n                }, 500)\r\n                return\r\n            }\r\n        } catch (e) {\r\n            console.log(e.response.status);\r\n            if (e.response.status === 500) {\r\n                setMessage('Une erreur est survenue')\r\n            } else if (e.response.status === 400) {\r\n                setMessage(`Merci d'entrer un numéro de téléphone et une adresse email valide`)\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ResponseMessage\r\n                message={message}\r\n            />\r\n            <form>\r\n                <Input\r\n                    handleChange={handleChange}\r\n                    name={'nom'}\r\n                    label={'Nom'}\r\n                    type={'text'}\r\n                />\r\n                <Input\r\n                    handleChange={handleChange}\r\n                    name={'prenom'}\r\n                    label={'Prenom'}\r\n                    type={'text'}\r\n                />\r\n                <Input\r\n                    handleChange={handleChange}\r\n                    name={'entreprise'}\r\n                    label={'Entreprise'}\r\n                    type={'text'}\r\n                />\r\n                <Input\r\n                    handleChange={handleChange}\r\n                    name={'adresse'}\r\n                    label={'Adresse'}\r\n                    type={'text'}\r\n                />\r\n                <Input\r\n                    handleChange={handleChange}\r\n                    name={'npa'}\r\n                    label={'NPA'}\r\n                    type={'text'}\r\n                />\r\n                <Input\r\n                    handleChange={handleChange}\r\n                    name={'localite'}\r\n                    label={'Localité'}\r\n                    type={'text'}\r\n                />\r\n                <Input\r\n                    handleChange={handleChange}\r\n                    name={'email'}\r\n                    label={'Email'}\r\n                    type={'text'}\r\n                />\r\n                <Input\r\n                    handleChange={handleChange}\r\n                    name={'nb'}\r\n                    label={'Nombre de participant'}\r\n                    type={'text'}\r\n                />\r\n                <Input\r\n                    handleChange={handleChange}\r\n                    name={'telephone'}\r\n                    label={'Telephone'}\r\n                    type={'text'}\r\n                />\r\n            </form>\r\n            <div\r\n                style={{\r\n                    cursor: filed ? 'pointer' : 'not-allowed',\r\n                }}\r\n            >\r\n                <button\r\n                    style={{\r\n                        backgroundColor: filed ? '#e7205b' : '#c8c8c8',\r\n                        pointerEvents: filed ? '' : 'none'\r\n                    }}\r\n                    onClick={handleSubmit}>S'inscrire\r\n                </button>\r\n            </div>\r\n\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nexport default SubscriptionForm;","import React, { useEffect } from 'react';\r\nimport Layout from '../components/layout';\r\nimport AtelierCard from '../components/atelier/atelier-card';\r\nimport SubscriptionForm from '../components/form/subscription-form';\r\n\r\n\r\nconst Subscription = props => {\r\n    useEffect(() => {\r\n        if (!props.location.state) {\r\n            window.location.pathname = '/'\r\n        }\r\n    }, [])\r\n    return (\r\n        <Layout>\r\n            {props.location.state &&\r\n                <div className=\"page sub\">\r\n                    <AtelierCard\r\n                        atelier={props.location.state.atelier}\r\n                    />\r\n                    <SubscriptionForm \r\n                        atelier={props.location.state.atelier}\r\n                    />\r\n                </div>\r\n            }\r\n        </Layout>\r\n\r\n    );\r\n\r\n};\r\n\r\nexport default Subscription;","'use strict';\n\nvar _require = require('nothing-mock'),\n    Nothing = _require.Nothing,\n    isNothing = _require.isNothing;\n\nvar win = typeof window !== 'undefined' ? window : Nothing;\nvar doc = typeof document !== 'undefined' ? document : Nothing;\nmodule.exports.window = win;\nmodule.exports.document = doc;\n\nmodule.exports.exists = function (variable) {\n  return !isNothing(variable);\n};"],"sourceRoot":""}