(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"Cuy+":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("o0o1"),l=n.n(o),s=(n("ls82"),n("HaE+")),c=n("RQdb"),m=n("vDqi"),u=n.n(m),i=n("hdq9"),p=function(){var e=Object(a.useState)(null),t=e[0],n=e[1],o=Object(a.useState)(!1),m=o[0],p=o[1],h=Object(a.useState)({nom:"",prenom:"",email:"",telephone:"",message:""}),b=h[0],d=h[1],g=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(Object.assign({},b,((n={})[t.target.name]=t.target.value,n)));case 2:if(""===b.nom||""===b.prenom||""===b.email||""===b.message||""===b.telephone){e.next=7;break}return e.next=5,p(!0);case 5:e.next=8;break;case 7:p(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){console.log(b)}),[b]);var f=function(){var e=Object(s.a)(l.a.mark((function e(a){var r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==b.nom&&""!==b.prenom&&""!==b.email&&""!==b.telephone&&""!==b.message){e.next=7;break}return window.scrollTo({top:0,behavior:"smooth"}),n("Merci de remplir tous les champs"),e.abrupt("return");case 7:return window.scrollTo({top:0,behavior:"smooth"}),n("Envoi du message"),r={nom:b.nom,prenom:b.prenom,email:""===b.email?"null":b.email,telephone:b.telephone,message:b.message},e.prev=10,e.next=13,u()({method:"POST",url:"http://localhost:1337/contacts",data:r});case 13:if(o=e.sent,console.log(o),200!==o.status){e.next=19;break}return n("Message envoyé"),setTimeout((function(){window.location.pathname="/"}),500),e.abrupt("return");case 19:console.log(t),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),console.log(e.t0.response.status),500===e.t0.response.status?n("Une erreur est survenue"):400===e.t0.response.status&&n("Merci d'entrer un numéro de téléphone et une adresse email valide");case 26:case"end":return e.stop()}}),e,null,[[10,22]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{message:t}),r.a.createElement("form",null,r.a.createElement(c.a,{handleChange:g,name:"nom",label:"Nom",type:"text"}),r.a.createElement(c.a,{handleChange:g,name:"prenom",label:"Prenom",type:"text"}),r.a.createElement(c.a,{handleChange:g,name:"email",label:"email",type:"email"}),r.a.createElement(c.a,{handleChange:g,name:"telephone",label:"Telephone",type:"number"}),r.a.createElement("div",{className:"contactform__message__textarea"},r.a.createElement("label",null,"Message"),r.a.createElement("textarea",{name:"message",onChange:g})),r.a.createElement("button",{style:{cursor:m?"pointer":"not-allowed",pointerEvents:m?"":"none",backgroundColor:m?"#e7205b":"#c8c8c8"},onClick:f},"Envoyer")))},h=n("Bl7J");t.default=function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"page contact"},r.a.createElement("h1",null,"Contact"),r.a.createElement(p,null)))}}}]);
//# sourceMappingURL=component---src-pages-contact-js-a47be3845900da8237c7.js.map