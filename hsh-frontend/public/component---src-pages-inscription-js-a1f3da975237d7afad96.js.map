{"version":3,"sources":["webpack:///./node_modules/nothing-mock/dist/nothing-mock.es.js","webpack:///./src/components/atelier/atelier-card.js","webpack:///./src/components/form/subscription-form.js","webpack:///./src/pages/inscription.js","webpack:///./node_modules/browser-monads/lib/index.js"],"names":["n","r","toString","toLocaleString","Symbol","toPrimitive","valueOf","Proxy","Object","freeze","get","t","hasOwnProperty","u","e","o","JSON","stringify","i","parse","AtelierCard","props","Date","atelier","className","split","map","type","titre","description_courte","window","location","pathname","to","id","state","SubscriptionForm","useState","filed","setFiled","message","setMessage","nom","prenom","entreprise","adresse","npa","localite","email","nb","telephone","inscription","setInscription","handleChange","a","target","name","value","useEffect","handleSubmit","preventDefault","scrollTo","top","behavior","data","participant","strapiId","axios","method","url","status","setTimeout","console","log","response","label","style","cursor","backgroundColor","pointerEvents","onClick","Subscription","_require","Nothing","isNothing","win","doc","document","module","exports","exists","variable"],"mappings":"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","file":"component---src-pages-inscription-js-a1f3da975237d7afad96.js","sourcesContent":["var n,\n    r = ((n = function n() {\n  return r;\n}).toString = n.toLocaleString = n[Symbol.toPrimitive] = function () {\n  return \"\";\n}, n.valueOf = function () {\n  return !1;\n}, new Proxy(Object.freeze(n), {\n  get: function get(n, t) {\n    return n.hasOwnProperty(t) ? n[t] : r;\n  }\n})),\n    t = function t(n) {\n  return !(!n || !n.valueOf());\n},\n    u = function u(n) {\n  return n === r;\n},\n    e = function e(n) {\n  return !(n === r || null == n);\n},\n    o = function o(n) {\n  return JSON.stringify(n, function (n, t) {\n    return t === r ? null : t;\n  });\n},\n    i = function i(n) {\n  return JSON.parse(n, function (n, t) {\n    return null === t ? r : t;\n  });\n};\n\nexport { r as Nothing, t as toBool, u as isNothing, e as isSomething, o as serialize, i as deserialize };","import React, { useState } from 'react';\nimport { Link } from 'gatsby'\nimport { window } from 'browser-monads';\n\nconst AtelierCard = props => {\n    const date = new Date(props.atelier.Date)\n    if (props) {\n        return (\n            <div className=\"atelier__card atelier\">\n                <div className=\"atelier__card__content\">\n                    <div>\n                        {props.atelier.Date &&\n                        props.atelier.Date.split(' ').map((e, i) => (\n                            <p className={`atelier__date date date${i}`} >{e}</p>\n                        ))}\n                    </div>\n                    <div className=\"atelier__card__mainContent\">\n                        <p className=\"atelier__type type\"> {props.atelier.type}</p>\n                        <p className=\"atelier__title title\"> {props.atelier.titre}</p>\n                        <p className=\"atelier__description\" >{props.atelier.description_courte}</p>\n                    </div>\n                </div>\n\n                {window.location.pathname !== '/inscription' &&\n                  <div className=\"atelier__card__buttons\">\n                      <Link to={`/atelier/${props.atelier.id}`}> Détails\n                      </Link>\n                      <Link to={`/inscription`} state={{ atelier: props.atelier }}> S'inscrire\n                  </Link>\n                </div>\n                }\n            </div>\n        )\n    } else return null\n\n}\n\nexport default AtelierCard;\n","import React, { useState, useEffect } from 'react';\nimport Input from './input';\nimport axios from 'axios'\nimport ResponseMessage from './response-message';\n\nconst SubscriptionForm = props => {\n    const [filed, setFiled] = useState(false)\n    const [message, setMessage] = useState('')\n    const [inscription, setInscription] = useState({\n        nom: '',\n        prenom: '',\n        entreprise: '',\n        adresse: '',\n        npa: '',\n        localite: '',\n        email: '',\n        nb: '',\n        telephone: '',\n    });\n\n    const handleChange = async (e) => {\n        setInscription({ ...inscription, [e.target.name]: e.target.value })\n        if (\n            inscription.nom !== ''\n            && inscription.prenom !== ''\n            && inscription.adresse !== ''\n            && inscription.npa !== ''\n            && inscription.localite !== ''\n            && inscription.email !== ''\n            && inscription.nb !== ''\n            && inscription.telephone !== ''\n        ) {\n            await setFiled(true)\n        } else {\n            setFiled(false)\n        }\n    }\n\n    useEffect(() => {\n    }, [inscription]);\n\n    const handleSubmit = async e => {\n        e.preventDefault()\n        window.scrollTo({ top: 0, behavior: 'smooth' })\n        const data = {\n            nom: inscription.nom,\n            prenom: inscription.prenom,\n            entreprise: inscription.entreprise,\n            adresse: inscription.adresse,\n            email: inscription.email,\n            telephone: inscription.telephone,\n            npa: inscription.npa,\n            localite: inscription.localite,\n            participant: inscription.nb,\n            atelier: {\n                id: props.atelier.strapiId,\n                titre: props.atelier.titre\n            }\n        }\n        setMessage('Envoi du message')\n\n        try {\n            const SubRes = await axios({\n                method: 'POST',\n                url: 'http://backend.homesafehome.ch/inscriptions',\n                data,\n            })\n            if (SubRes.status === 200) {\n                setMessage('Message envoyé')\n                setTimeout(() => {\n                    window.location.pathname = '/'\n                }, 500)\n                return\n            }\n        } catch (e) {\n            console.log(e.response.status);\n            if (e.response.status === 500) {\n                setMessage('Une erreur est survenue')\n            } else if (e.response.status === 400) {\n                setMessage(`Merci d'entrer un numéro de téléphone et une adresse email valide`)\n            }\n        }\n\n    }\n\n    return (\n        <>\n            <ResponseMessage\n                message={message}\n            />\n            <form>\n                <Input\n                    handleChange={handleChange}\n                    name={'nom'}\n                    label={'Nom'}\n                    type={'text'}\n                />\n                <Input\n                    handleChange={handleChange}\n                    name={'prenom'}\n                    label={'Prenom'}\n                    type={'text'}\n                />\n                <Input\n                    handleChange={handleChange}\n                    name={'entreprise'}\n                    label={'Entreprise'}\n                    type={'text'}\n                />\n                <Input\n                    handleChange={handleChange}\n                    name={'adresse'}\n                    label={'Adresse'}\n                    type={'text'}\n                />\n                <Input\n                    handleChange={handleChange}\n                    name={'npa'}\n                    label={'NPA'}\n                    type={'text'}\n                />\n                <Input\n                    handleChange={handleChange}\n                    name={'localite'}\n                    label={'Localité'}\n                    type={'text'}\n                />\n                <Input\n                    handleChange={handleChange}\n                    name={'email'}\n                    label={'Email'}\n                    type={'text'}\n                />\n                <Input\n                    handleChange={handleChange}\n                    name={'nb'}\n                    label={'Nombre de participant'}\n                    type={'text'}\n                />\n                <Input\n                    handleChange={handleChange}\n                    name={'telephone'}\n                    label={'Telephone'}\n                    type={'text'}\n                />\n            </form>\n            <div\n                style={{\n                    cursor: filed ? 'pointer' : 'not-allowed',\n                }}\n            >\n                <button\n                    style={{\n                        backgroundColor: filed ? '#e7205b' : '#c8c8c8',\n                        pointerEvents: filed ? '' : 'none'\n                    }}\n                    onClick={handleSubmit}>S'inscrire\n                </button>\n            </div>\n\n        </>\n\n    );\n};\n\nexport default SubscriptionForm;","import React, { useEffect } from 'react';\nimport Layout from '../components/layout';\nimport AtelierCard from '../components/atelier/atelier-card';\nimport SubscriptionForm from '../components/form/subscription-form';\n\n\nconst Subscription = props => {\n    useEffect(() => {\n        if (!props.location.state) {\n            window.location.pathname = '/'\n        }\n    }, [])\n    return (\n        <Layout>\n            {props.location.state &&\n                <div className=\"page sub\">\n                    <AtelierCard\n                        atelier={props.location.state.atelier}\n                    />\n                    <SubscriptionForm \n                        atelier={props.location.state.atelier}\n                    />\n                </div>\n            }\n        </Layout>\n\n    );\n\n};\n\nexport default Subscription;","'use strict';\n\nvar _require = require('nothing-mock'),\n    Nothing = _require.Nothing,\n    isNothing = _require.isNothing;\n\nvar win = typeof window !== 'undefined' ? window : Nothing;\nvar doc = typeof document !== 'undefined' ? document : Nothing;\nmodule.exports.window = win;\nmodule.exports.document = doc;\n\nmodule.exports.exists = function (variable) {\n  return !isNothing(variable);\n};"],"sourceRoot":""}