(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"Cuy+":function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),o=a("o0o1"),l=a.n(o),s=(a("ls82"),a("HaE+")),c=a("RQdb"),m=a("vDqi"),u=a.n(m),i=a("hdq9"),p=function(){var e=Object(n.useState)(null),t=e[0],a=e[1],o=Object(n.useState)(!1),m=o[0],p=o[1],h=Object(n.useState)({nom:"",prenom:"",email:"",telephone:"",message:""}),b=h[0],d=h[1],g=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(Object.assign({},b,((a={})[t.target.name]=t.target.value,a)));case 2:if(""===b.nom||""===b.prenom||""===b.email||""===b.message||""===b.telephone){e.next=7;break}return e.next=5,p(!0);case 5:e.next=8;break;case 7:p(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log(b)}),[b]);var f=function(){var e=Object(s.a)(l.a.mark((function e(n){var r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==b.nom&&""!==b.prenom&&""!==b.email&&""!==b.telephone&&""!==b.message){e.next=7;break}return window.scrollTo({top:0,behavior:"smooth"}),a("Merci de remplir tous les champs"),e.abrupt("return");case 7:return window.scrollTo({top:0,behavior:"smooth"}),a("Envoi du message"),r={nom:b.nom,prenom:b.prenom,email:""===b.email?"null":b.email,telephone:b.telephone,message:b.message},e.prev=10,e.next=13,u()({method:"POST",url:"http://localhost:1337/contacts",data:r});case 13:if(o=e.sent,console.log(o),200!==o.status){e.next=19;break}return a("Message envoyé"),setTimeout((function(){window.location.pathname="/"}),500),e.abrupt("return");case 19:console.log(t),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),console.log(e.t0.response.status),500===e.t0.response.status?a("Une erreur est survenue"):400===e.t0.response.status&&a("Merci d'entrer un numéro de téléphone et une adresse email valide");case 26:case"end":return e.stop()}}),e,null,[[10,22]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{message:t}),r.a.createElement("form",null,r.a.createElement(c.a,{handleChange:g,name:"nom",label:"Nom",type:"text"}),r.a.createElement(c.a,{handleChange:g,name:"prenom",label:"Prenom",type:"text"}),r.a.createElement(c.a,{handleChange:g,name:"email",label:"email",type:"email"}),r.a.createElement(c.a,{handleChange:g,name:"telephone",label:"Telephone",type:"number"}),r.a.createElement("div",{className:"contactform__message__textarea"},r.a.createElement("label",null,"Message"),r.a.createElement("textarea",{name:"message",onChange:g})),r.a.createElement("button",{style:{cursor:m?"pointer":"not-allowed",pointerEvents:m?"":"none",backgroundColor:m?"#e7205b":"#c8c8c8"},onClick:f},"Envoyer")))},h=a("Bl7J"),b=a("vrFN");t.default=function(){return r.a.createElement(h.a,null,r.a.createElement(b.a,{title:"Contact",lang:"fr",description:"Page de contact"}),r.a.createElement("div",{className:"page contact"},r.a.createElement("h1",null,"Contact"),r.a.createElement(p,null)))}}}]);
//# sourceMappingURL=component---src-pages-contact-js-32e88686d5f102fa4f16.js.map